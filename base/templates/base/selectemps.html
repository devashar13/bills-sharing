{% extends 'base/base.html' %} {% block 'card-content' %}
<div class="custom-card vendors-list-card">
    <h1 class="form-heading">Employee List</h1>
    <div style="overflow-y: scroll; overflow-x: none">
        <!-- <div class="add-vendor d-flex justify-content-end">
            <button
                class="btn btn-success mb-3"
                data-toggle="modal"
                data-target="#addVendorModal"
            >
                SELECT EMPLOYEE
            </button>
        </div> -->
      
        <div>
            <div class="custom-form-group">
                <input
                    type="text"
                    id="filterByName"
                    onkeyup="filterFunction()"
                />
                <span>Filter by Email</span>
            </div>
        </div>
        <table class="table table-striped" id="tbl">
            <thead>
                <tr>
                    <th>Employee List</th>
                </tr>
            </thead>
            <tbody id="tblbody">
                {% for emp in emps %}
                <tr style = "cursor:pointer" id = {{emp.id}}>
                    <td>{{emp}}</td>
                </tr>
                {% endfor %}
                
                
            </tbody>
    </div>
</div>
<script>
$(document).ready(function () {      
     $('#tblbody tr').click(function (event) {
          x = $(this).attr('id')
          console.log(x)
          location.assign(`/selectEmployee/${x}`)      

     });
 });
 function filterFunction() {
      // Declare variables
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('filterByName');
      filter = input.value.toUpperCase();
      table = document.getElementById("tblbody");
      li = table.getElementsByTagName('tr');
    console.log(input)
      // Loop through all list items, and hide those who don't match the search query
      for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("td")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
</script>
{% endblock %}